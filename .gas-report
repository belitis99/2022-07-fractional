forge test --gas-report -vvv --optimize
No files changed, compilation skipped

Running 2 tests for test/BaseVault.t.sol:BaseVaultTest
[32m[PASS][0m testDeploy() (gas: 482905)
[32m[PASS][0m testMulticallDeposit() (gas: 677798)
Test result: [32mok[0m. 2 passed; 0 failed; finished in 30.24ms

Running 8 tests for test/Transfer.t.sol:TransferTest
[32m[PASS][0m testMeasureGasBatchERC1155() (gas: 223511)
[32m[PASS][0m testMeasureGasBatchERC1155Reference() (gas: 223800)
[32m[PASS][0m testMeasureGasERC1155() (gas: 52500)
[32m[PASS][0m testMeasureGasERC1155Reference() (gas: 52532)
[32m[PASS][0m testMeasureGasERC20() (gas: 65597)
[32m[PASS][0m testMeasureGasERC20_Reference() (gas: 65829)
[32m[PASS][0m testMeasureGasERC721() (gas: 53240)
[32m[PASS][0m testMeasureGasERC721Reference() (gas: 55493)
Test result: [32mok[0m. 8 passed; 0 failed; finished in 82.15ms

Running 36 tests for test/Migration.t.sol:MigrationTest
[32m[PASS][0m testBatchWithdrawERC1155NotVault() (gas: 7079013)
[32m[PASS][0m testBatchWithdrawERC1155UnsuccesfulBuyout() (gas: 6544675)
[32m[PASS][0m testCommit() (gas: 6467270)
[32m[PASS][0m testCommitNotVault() (gas: 6285954)
[32m[PASS][0m testCommitProposalOver() (gas: 6284479)
[32m[PASS][0m testJoin() (gas: 6276753)
[32m[PASS][0m testJoinNotVault() (gas: 6183101)
[32m[PASS][0m testLeave() (gas: 6217693)
[32m[PASS][0m testLeaveNotVault() (gas: 6285508)
[32m[PASS][0m testMigrateFractions() (gas: 7066140)
[32m[PASS][0m testMigrateFractionsNotVault() (gas: 7013306)
[32m[PASS][0m testMigrateFractionsUnsuccesfulBuyout() (gas: 6482648)
[32m[PASS][0m testProposal() (gas: 6155732)
[32m[PASS][0m testProposalNotVault() (gas: 5871842)
[32m[PASS][0m testSettle() (gas: 6991924)
[32m[PASS][0m testSettleFractionsAlreadyMinted() (gas: 7000129)
[32m[PASS][0m testSettleFractionsNoVaultToMigrateTo() (gas: 6599623)
[32m[PASS][0m testSettleFractionsUnsuccessfulMigration() (gas: 6462909)
[32m[PASS][0m testSettleVaultNewVaultAlreadyDeployed() (gas: 6912469)
[32m[PASS][0m testSettleVaultUnsuccessfulMigration() (gas: 6460912)
[32m[PASS][0m testWithdrawContribution() (gas: 6421390)
[32m[PASS][0m testWithdrawContributionNotVault() (gas: 6446673)
[32m[PASS][0m testWithdrawContributionNothingToWithdraw() (gas: 6999201)
[32m[PASS][0m testWithdrawERC1155() (gas: 7059321)
[32m[PASS][0m testWithdrawERC1155NotVault() (gas: 7046237)
[32m[PASS][0m testWithdrawERC1155UnsuccesfulBuyout() (gas: 6511813)
[32m[PASS][0m testWithdrawERC20() (gas: 7077122)
[32m[PASS][0m testWithdrawERC20NotVault() (gas: 7067389)
[32m[PASS][0m testWithdrawERC20UnsuccesfulBuyout() (gas: 6532984)
[32m[PASS][0m testWithdrawERC721() (gas: 7028377)
[32m[PASS][0m testWithdrawERC721NotVault() (gas: 7017552)
[32m[PASS][0m testWithdrawERC721UnsuccesfulBuyout() (gas: 6483255)
[32m[PASS][0m testWithdrawItems() (gas: 7226137)
[32m[PASS][0m testWithdrawItemsNotVault() (gas: 7159206)
[32m[PASS][0m testWithdrawItemsUnsuccesfulBuyout() (gas: 6625037)
[32m[PASS][0m testbBatchWithdrawERC1155() (gas: 7100100)
Test result: [32mok[0m. 36 passed; 0 failed; finished in 583.12ms

Running 2 tests for test/SafeSend.t.sol:SafeSendTest
[32m[PASS][0m testSendEth() (gas: 17157)
[32m[PASS][0m testSendWETH() (gas: 79919)
Test result: [32mok[0m. 2 passed; 0 failed; finished in 21.92ms

Running 54 tests for test/Buyout.t.sol:BuyoutTest
[32m[PASS][0m testBatchWithdrawERC1155() (gas: 5802014)
[32m[PASS][0m testBatchWithdrawERC1155Redeem() (gas: 5634025)
[32m[PASS][0m testBatchWithdrawERC1155RevertNotAVault() (gas: 5769430)
[32m[PASS][0m testBatchWithdrawERC1155RevertNotAllowed() (gas: 5765208)
[32m[PASS][0m testBatchWithdrawERC1155RevertStateINACTIVE() (gas: 5624323)
[32m[PASS][0m testBuyFractionsNoDepositAmount() (gas: 5640062)
[32m[PASS][0m testBuyFractionsNotAVault() (gas: 5642460)
[32m[PASS][0m testBuyFractionsRevertInvalidPayment() (gas: 5638404)
[32m[PASS][0m testBuyFractionsRevertStateINACTIVE() (gas: 5516084)
[32m[PASS][0m testBuyFractionsRevertTimeExpired() (gas: 5639166)
[32m[PASS][0m testBuyFractionsSingle() (gas: 5653336)
[32m[PASS][0m testCash() (gas: 5659718)
[32m[PASS][0m testCashRevertNoFractions() (gas: 5666042)
[32m[PASS][0m testCashRevertNotAVault() (gas: 5672209)
[32m[PASS][0m testCashRevertStateINACTIVE() (gas: 5611254)
[32m[PASS][0m testCashRevertStateLIVE() (gas: 5658925)
[32m[PASS][0m testEndRevertNotAVault() (gas: 5662198)
[32m[PASS][0m testEndRevertStateINACTIVE() (gas: 5513012)
[32m[PASS][0m testEndRevertTimeNotElapsed() (gas: 5663103)
[32m[PASS][0m testEndSuccesfull() (gas: 5662677)
[32m[PASS][0m testEndUnsuccesfull() (gas: 5609610)
[32m[PASS][0m testRedeem() (gas: 5491103)
[32m[PASS][0m testRedeemRevertNotAVault() (gas: 5506454)
[32m[PASS][0m testRedeemRevertNotTotalSupply() (gas: 5522578)
[32m[PASS][0m testRedeemRevertStateLIVE() (gas: 5642855)
[32m[PASS][0m testSellFractions() (gas: 5648963)
[32m[PASS][0m testSellFractionsNoDepositAmount() (gas: 5635849)
[32m[PASS][0m testSellFractionsRevertNotAVault() (gas: 5629135)
[32m[PASS][0m testSellFractionsRevertNotApproved() (gas: 3116146)
[32m[PASS][0m testSellFractionsRevertStateINACTIVE() (gas: 5502838)
[32m[PASS][0m testSellFractionsRevertTimeExpired() (gas: 5625952)
[32m[PASS][0m testSellFractionsSelfPermit() (gas: 8066694)
[32m[PASS][0m testStart() (gas: 5619698)
[32m[PASS][0m testStartNoFractions() (gas: 5599628)
[32m[PASS][0m testStartRevertNotAVault() (gas: 5509623)
[32m[PASS][0m testStartRevertNotApproved() (gas: 5443885)
[32m[PASS][0m testStartRevertStateLIVE() (gas: 5638653)
[32m[PASS][0m testStartRevertTotalSupply() (gas: 5528843)
[32m[PASS][0m testStartRevertZeroDeposit() (gas: 5486610)
[32m[PASS][0m testWithdrawERC1155() (gas: 5725080)
[32m[PASS][0m testWithdrawERC1155Redeem() (gas: 5559567)
[32m[PASS][0m testWithdrawERC1155RevertNotAVault() (gas: 5708866)
[32m[PASS][0m testWithdrawERC1155RevertNotAllowed() (gas: 5704644)
[32m[PASS][0m testWithdrawERC1155RevertStateINACTIVE() (gas: 5619706)
[32m[PASS][0m testWithdrawERC20() (gas: 5745282)
[32m[PASS][0m testWithdrawERC20Redeem() (gas: 5580062)
[32m[PASS][0m testWithdrawERC20RevertNotAVault() (gas: 5712989)
[32m[PASS][0m testWithdrawERC20RevertNotAllowed() (gas: 5725427)
[32m[PASS][0m testWithdrawERC20RevertStateINACTIVE() (gas: 5621935)
[32m[PASS][0m testWithdrawERC721() (gas: 5719010)
[32m[PASS][0m testWithdrawERC721Redeem() (gas: 5553882)
[32m[PASS][0m testWithdrawERC721RevertNotAVault() (gas: 5701403)
[32m[PASS][0m testWithdrawERC721RevertNotAllowed() (gas: 5697162)
[32m[PASS][0m testWithdrawERC721RevertStateINACTIVE() (gas: 5622044)
Test result: [32mok[0m. 54 passed; 0 failed; finished in 720.97ms

Running 3 tests for test/VaultFactory.t.sol:VaultFactoryTest
[32m[PASS][0m testDeploy() (gas: 230429)
[32m[PASS][0m testDeploy(address) (runs: 256, Î¼: 392667, ~: 403239)
[32m[PASS][0m testDeployFor(address) (runs: 256, Î¼: 403396, ~: 403396)
Test result: [32mok[0m. 3 passed; 0 failed; finished in 2.97s

Running 17 tests for test/FERC1155.t.sol:FERC1155Test
[32m[PASS][0m testFailPermitAllApproved() (gas: 2550931)
[32m[PASS][0m testFailPermitAllDeadline() (gas: 2526734)
[32m[PASS][0m testFailPermitAllNonce() (gas: 2550905)
[32m[PASS][0m testFailSinglePermitApproved() (gas: 2551297)
[32m[PASS][0m testFailSinglePermitDeadline() (gas: 2527137)
[32m[PASS][0m testFailSinglePermitNonce() (gas: 2551316)
[32m[PASS][0m testPermitAll(bool,uint256) (runs: 256, Î¼: 2553478, ~: 2547971)
[32m[PASS][0m testPermitAllApproval() (gas: 2574414)
[32m[PASS][0m testPermitAllRemoval() (gas: 2572129)
[32m[PASS][0m testSetContractURI() (gas: 53899)
[32m[PASS][0m testSetContractURIRevertInvalidSender() (gas: 2434200)
[32m[PASS][0m testSetMetadata() (gas: 53099)
[32m[PASS][0m testSetURI() (gas: 89244)
[32m[PASS][0m testSetURIRevertInvalidSender() (gas: 61232)
[32m[PASS][0m testSinglePermit(bool,uint256) (runs: 256, Î¼: 2554181, ~: 2548674)
[32m[PASS][0m testSinglePermitApproval() (gas: 2575474)
[32m[PASS][0m testSinglePermitRemoval() (gas: 2574138)
Test result: [32mok[0m. 17 passed; 0 failed; finished in 3.01s

Running 6 tests for test/VaultRegistry.t.sol:VaultRegistryTest
[32m[PASS][0m testCreate() (gas: 2770130)
[32m[PASS][0m testCreateCollection() (gas: 422042)
[32m[PASS][0m testCreateCollectionFor() (gas: 422281)
[32m[PASS][0m testCreateFor() (gas: 2773468)
[32m[PASS][0m testCreateInCollection() (gas: 709662)
[32m[PASS][0m testCreateInCollectionRevertNotController() (gas: 72852)
Test result: [32mok[0m. 6 passed; 0 failed; finished in 3.02s

Running 15 tests for test/Vault.t.sol:VaultTest
[32m[PASS][0m testExecute() (gas: 235204)
[32m[PASS][0m testExecuteRevert() (gas: 249401)
[32m[PASS][0m testExecuteRevertNotAuthorized() (gas: 254588)
[32m[PASS][0m testExecuteRevertNotOwner() (gas: 190815)
[32m[PASS][0m testExecuteRevertOwnerChanged() (gas: 190242)
[32m[PASS][0m testExecuteRevertTargetInvalid() (gas: 244302)
[32m[PASS][0m testInit() (gas: 55120)
[32m[PASS][0m testInitRevertInvalidNonce() (gas: 57777)
[32m[PASS][0m testReceiveERC1155() (gas: 175765)
[32m[PASS][0m testReceiveERC721() (gas: 194931)
[32m[PASS][0m testReceiveEther() (gas: 60597)
[32m[PASS][0m testSetMerkleRoot() (gas: 77323)
[32m[PASS][0m testSetMerkleRootRevertNotOwner() (gas: 69988)
[32m[PASS][0m testTransferOwnership(address) (runs: 256, Î¼: 62952, ~: 69621)
[32m[PASS][0m testTransferOwnershipRevertNotOwner(address) (runs: 256, Î¼: 56586, ~: 61496)
Test result: [32mok[0m. 15 passed; 0 failed; finished in 3.06s

Running 12 tests for test/SelfPermit.t.sol:SelfPermitTest
[32m[PASS][0m testFailPermitAllApproved() (gas: 2611747)
[32m[PASS][0m testFailPermitAllDeadline() (gas: 2587617)
[32m[PASS][0m testFailPermitAllNonce() (gas: 2611788)
[32m[PASS][0m testFailSinglePermitApproved() (gas: 2612183)
[32m[PASS][0m testFailSinglePermitDeadline() (gas: 2587914)
[32m[PASS][0m testFailSinglePermitNonce() (gas: 2612202)
[32m[PASS][0m testPermitAll(bool,uint256) (runs: 256, Î¼: 2612276, ~: 2606769)
[32m[PASS][0m testPermitAllApproval() (gas: 2633242)
[32m[PASS][0m testPermitAllRemoval() (gas: 2630363)
[32m[PASS][0m testSinglePermit(bool,uint256) (runs: 256, Î¼: 2613027, ~: 2607520)
[32m[PASS][0m testSinglePermitApproval() (gas: 2634342)
[32m[PASS][0m testSinglePermitRemoval() (gas: 2632474)
Test result: [32mok[0m. 12 passed; 0 failed; finished in 3.06s

